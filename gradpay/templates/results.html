{% extends "base.html" %}

{% block extrahead %}

<!-- DataTables CSS -->
<link rel="stylesheet" type="text/css" href="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/css/jquery.dataTables.css">

<!-- DataTables JS -->
<script type="text/javascript" charset="utf8" src="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/jquery.dataTables.min.js"></script>

<!-- DataTables :: Bootstrap JS -->
<script type="text/javascript" charset="utf-8" language="javascript" src="{{ STATIC_URL }}js/DT_bootstrap.js"></script>

<script type="text/javascript">

$(document).ready(function() {
  // Initialize table
  $('#data-table').dataTable( {
    "bSortClasses" : false,   // Don't add sorting_1...n classes; avoids styling sort cols
    'bProcessing' : true,
    'bServerSide' : true,
    'sAjaxSource' : '/results_json?units=institution,department',
    'aoColumns' : [
      { 'sWidth' : '25%' },
      { 'sWidth' : '12.5%' },
      { 'sWidth' : '25%' },
      { 'sWidth' : '12.5%' },
      { 'sWidth' : '12.5%' },
      { 'sWidth' : '12.5%' },
    ],
  } );
} );

</script>

{% endblock %}

{% block content %}
  
  <div class="row-fluid">
    <div class="span10 offset1">
      <div class="page-header">
        <h1>Survey Results</h1>
        <div>Highest- and lowest-paying institutions and departments</div>
      </div>
    </div>
  </div>

  <div class="container" style="margin-top: 20px">

    <table id="data-table" cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered">

      <thead>
        <tr>
          <th>Institution</th>
          <th>State</th>
          <th>Department</th>
          <th>Salary</th>
          <th>Teaching %</th>
          <th>Responses</th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td colspan="5" class="dataTables_empty">Loading data from server</td>
        </tr>
      </tbody>

      <tfoot>
        <tr>
          <th>Institution</th>
          <th>State</th>
          <th>Department</th>
          <th>Salary</th>
          <th>Teaching %</th>
          <th>Responses</th>
        </tr>
      </tfoot>

    </table>

  </div>

{% endblock %}
